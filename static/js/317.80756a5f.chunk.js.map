{"version":3,"file":"static/js/317.80756a5f.chunk.js","mappings":"mOAKMA,GAAYC,EAAAA,EAAAA,OAAK,kBAAM,4BAAN,IAsDvB,EApDe,WAAO,IAAD,EACnB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACMC,EAAU,UAAGP,EAAaQ,IAAI,gBAApB,QAAgC,IAEhDC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAiBH,GAAYI,KAAKL,EACnC,GAAE,CAACC,IAsBJ,OACE,iCACE,kBAAMK,UAAU,cAAcC,SAlBb,SAAAC,GAGnB,GAFAA,EAAEC,iBAEyB,KAAvBZ,EAAYa,OAAhB,CAIA,IAAMC,EAAQH,EAAEI,OAAOC,KAAKC,MACtBC,EAAuB,KAAVJ,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAC/ChB,EAAgBoB,IAEhBX,EAAAA,EAAAA,IAAiBW,EAAWJ,OAE5Bb,EAAe,GARd,CASF,EAIG,WACE,kBACEQ,UAAU,eACVU,KAAK,OACLH,KAAK,OACLC,MAAOjB,EACPoB,SA5Ba,SAAAT,GACnBV,EAAeU,EAAEI,OAAOE,MACzB,KA4BK,mBAAQR,UAAU,aAAaU,KAAK,SAApC,wBAIF,SAAC,EAAAE,SAAD,CAAUC,SAAU,KAApB,UACE,SAAC5B,EAAD,CAAWQ,OAAQA,QAK1B,C","sources":["pages/Movies.jsx"],"sourcesContent":["import { Suspense, useEffect, useState, lazy } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchSearchMovie } from 'services/movieApi';\nimport './Movies.css';\n\nconst MovieList = lazy(() => import('../components/MovieList/MovieList'));\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const searchName = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    fetchSearchMovie(searchName).then(setMovies);\n  }, [searchName]);\n\n  const handleChange = e => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (searchQuery.trim() === '') {\n      return;\n    }\n\n    const query = e.target.name.value;\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n\n    fetchSearchMovie(nextParams.query);\n\n    setSearchQuery('');\n  };\n\n  return (\n    <>\n      <form className=\"search-form\" onSubmit={handleSubmit}>\n        <input\n          className=\"search-label\"\n          type=\"text\"\n          name=\"name\"\n          value={searchQuery}\n          onChange={handleChange}\n        />\n        <button className=\"search-btn\" type=\"submit\">\n          Search\n        </button>\n      </form>\n      <Suspense fallback={null}>\n        <MovieList movies={movies} />\n        {/* {movies.length === 0 ? <p>Hello</p> : <MovieList movies={movies} />} */}\n      </Suspense>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["MovieList","lazy","useSearchParams","searchParams","setSearchParams","useState","searchQuery","setSearchQuery","movies","setMovies","searchName","get","useEffect","fetchSearchMovie","then","className","onSubmit","e","preventDefault","trim","query","target","name","value","nextParams","type","onChange","Suspense","fallback"],"sourceRoot":""}